@import '../../variables';

:host {
    --offset-top: 0px;
    --offset-bottom: 0px;
    --offset-left: 0px;
    --offset-right: 0px;
    position: relative;
    contain: style;
    width: 100%;
    height: 100%;
    display: block;
    -webkit-user-drag: none;
    -webkit-touch-callout: none;
    -ms-overflow-style: none;
    user-select: none;
}

:host([scroll-y]),
:host([scroll-x]) {
    slot {
        will-change: scroll-position, -webkit-mask-image;
        -webkit-overflow-scrolling: touch;
        -ms-overflow-style: none;
        scrollbar-width: none;

        &::-webkit-scrollbar {
            display: none;
        }
    }
}

:host([scroll-x]) {
    slot {
        overflow-y: hidden;
        overflow-x: auto;
        overscroll-behavior-x: contain;
        touch-action: pan-x;
    }

    // .scrollItems {
    //     flex-wrap: nowrap;
    //     padding-right: inherit;
    // }

    // .scroll-item {
    //     &:last-child {
    //         padding-right: 0;
    //     }
    // }

    // &[snap=true] {
    //     scroll-snap-type: mandatory;

    //     .scroll-item {
    //         scroll-snap-align: center;
    //     }
    // }
}

:host([scroll-y]) {

    slot {
        overflow-y: auto;
        overflow-x: hidden;
        overscroll-behavior-y: contain;
        touch-action: pan-y;
    }

    // .scrollItems {
    //     flex-direction: column;
    // }

    // &[snap=true] {
    //     scroll-snap-type: mandatory;

    //     .scroll-item {
    //         scroll-snap-align: center;
    //     }
    // }
}

:host([scroll-x][scroll-y]) {
    slot {
        overflow: auto;
        touch-action: manipulation;
    }
}


:host([overscroll]) {
    overscroll-behavior: auto auto;
}


slot {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    contain: size;
    padding-top: var(--offset-top);
    padding-bottom: var(--offset-bottom);
}

m-bar {
    position: absolute;
    display: block;
    z-index: $z-overlay;
    pointer-events: none;
    contain: content;
    opacity: 1;


    &[hidden] {
        opacity: 0;
        transition: opacity .2s ease-out .5s;
        will-change: opacity;
    }
}

m-thumb {
    position: relative;
    display: block;
    border-radius: 2px;
    background-color: var(--b-fade);
    pointer-events: auto;
    contain: strict;
    will-change: transform;

    // &:hover {
    //     width: 6px;
    //     border-radius: 3px;
    //     background-color: rgba(0, 0, 0, .2);
    // }
}

m-bar[part=x] {
    bottom: 0;
    left: var(--offset-left);
    width: calc(100% - var(--offset-left) - var(--offset-right));

    m-thumb {
        height: 4px;
    }
}

m-bar[part=y] {
    top: var(--offset-top);
    right: 0;
    height: calc(100% - var(--offset-top) - var(--offset-bottom));

    m-thumb {
        width: 4px;
    }
}