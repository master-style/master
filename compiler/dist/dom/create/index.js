!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Master=t():e.Master=t()}(self,(function(){return e={77:()=>{const e=document.createDocumentFragment(),t=document.createElement("div");window.Master=function(t,n,...o){if("function"==typeof t)return new i(t);if(n){const i=document.createElement(t,n&&n.is?{is:n.is}:void 0);if(Object.keys(n).length&&i.attr(n),o.length)if(o.length>1){const t=e.cloneNode();for(const e of o)t.appendChild("string"==typeof e?document.createTextNode(e):e);i.appendChild(t)}else i.appendChild("string"==typeof o[0]?document.createTextNode(o[0]):o[0]);return i}return document.querySelectorAll(t)};const n=e=>{if(!(null==e?void 0:e.element))return;e.element.remove();const t=e.$removed;t&&t(e.element,e)},o=e=>{e&&e.forEach((e=>{n(e)}))};class i{constructor(e){this.template=e,this.nodes=[]}render(i){if(!i)return;const l=this.nodes;this.nodes=[],function e(t,n){let o;for(const i of t){const t=typeof i;if("string"===t)o={tag:i,children:null},n.push(o);else{const n=o.hasOwnProperty("$if"),l=n&&o.$if||!n;if(Array.isArray(i)&&l)o.children||(o.children=[]),e(i,o.children);else if("function"===t&&l){let t=i();if(!t)continue;t=t.reduce(((e,t)=>e.concat(t)),[]),o.children||(o.children=[]),e(t,o.children)}else if("object"===t){const e=i;o.attr={};for(const t in e){const n=e[t];"$"!==t[0]?o.attr[t]=n:o[t]=n}}}}}(this.template(),this.nodes),this.nodes.length&&this.container===i?function e(i,l,s){if(!(null==i?void 0:i.length)&&(null==l?void 0:l.length))o(l);else{(null==l?void 0:l.length)>(null==i?void 0:i.length)&&o(l.splice(null==i?void 0:i.length));for(let o=0;o<(null==i?void 0:i.length);o++){const c=i[o],r=l&&l[o],d=!!(null==r?void 0:r.element),a=c.tag===(null==r?void 0:r.tag),h=c.hasOwnProperty("$if"),f=h&&c.$if||!h;if((d&&!f||d&&f&&!a)&&n(r),f)if(d&&a){const t=c.element=null==r?void 0:r.element,n=c.attr,o=null==r?void 0:r.attr;if(n)for(const e in n){const i=n[e];i!==o[e]&&t.attr(e,i)}const i=c.$css,l=null==r?void 0:r.$css;for(const e in i){const n=i[e];n!==l[e]&&t.css(e,n)}for(const e in null==r?void 0:r.$on){const n=r.$on[e];t.off(n)}for(const e in null==c?void 0:c.$on){const n=c.$on[e];t.on(e,n,{passive:!0})}"$html"in c&&c.$html!==r.$html?(t.innerHTML=c.$html,(null==r?void 0:r.children)&&(r.children=[])):"$text"in c&&c.$text!==r.$text&&(t.textContent=c.$text,(null==r?void 0:r.children)&&(r.children=[])),e(null==c?void 0:c.children,null==r?void 0:r.children,t);const s=c.$updated;s&&s(t,c)}else{let n;n=c.$namespace?document.createElementNS(c.$namespace,c.tag):"div"===c.tag?t.cloneNode():document.createElement(c.tag),c.element=n;const l=c.attr;l&&n.attr(l);const d=c.$css;d&&n.css(d);for(const e in null==c?void 0:c.$on){const t=c.$on[e];t&&n.on(e,t,{passive:!0})}"$html"in c?n.innerHTML=c.$html:"$text"in c&&(n.textContent=c.$text),(null==r?void 0:r.children)&&(r.children=[]),e(null==c?void 0:c.children,null==r?void 0:r.children,n);const a=c.$created;a&&a(n,c);const h=c.$updated;if(h&&h(n,c),0===o)s.appendChild(n);else{const e=i.slice(0,o).reverse().find((e=>{const t=e.hasOwnProperty("$if");return(t&&e.$if||!t)&&e.element}));e?e.element.after(n):s.prepend(n)}}}}}(this.nodes,l,i):(this.container=i,function n(o,i){const l=e.cloneNode();o.forEach((e=>{if(e.hasOwnProperty("$if")&&!e.$if)return;let o;o=e.$namespace?document.createElementNS(e.$namespace,e.tag):"div"===e.tag?t.cloneNode():document.createElement(e.tag),e.element=o;const i=e.$created;i&&i(o,e);const s=e.$updated;s&&s(o,e);for(const t in e.$on){const n=e.$on[t];o.on(t,n,{passive:!0})}"$html"in e?o.innerHTML=e.$html:"$text"in e&&(o.textContent=e.$text);const c=e.attr;c&&o.attr(c);const r=e.$css;r&&o.css(r),e.children&&n(e.children,o),l.appendChild(o)})),i.appendChild(l)}(this.nodes,i))}remove(){return this.nodes.length&&(this.container=null,o(this.nodes),this.nodes=[]),this}}}},t={},function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(77);var e,t}));