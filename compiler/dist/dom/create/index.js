!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Master=t():e.Master=t()}(self,(function(){return e={77:()=>{const e=document.createDocumentFragment(),t=document.createElement("div");window.Master=function(t,n,...o){if("function"==typeof t)return new i(t);if(n){const i=document.createElement(t,n&&n.is?{is:n.is}:void 0);if(Object.keys(n).length&&i.attr(n),o.length)if(o.length>1){const t=e.cloneNode();for(const e of o)t.appendChild("string"==typeof e?document.createTextNode(e):e);i.appendChild(t)}else i.appendChild("string"==typeof o[0]?document.createTextNode(o[0]):o[0]);return i}return document.querySelectorAll(t)};const n=e=>{if(!(null==e?void 0:e.element))return;e.element.remove();const t=e.$removed;t&&t(e.element,e)},o=(e,t)=>{e.forEach((e=>{const n=e.element;if(n){t&&n.remove();const o=e.$removed;o&&o(n,e)}e.children&&o(e.children)}))};class i{constructor(e){this.template=e,this.nodes=[]}render(i){if(!i)return;const s=this.nodes;this.nodes=[],function e(t,n){let o;for(const i of t){const t=typeof i;if("string"===t)o={tag:i,children:null},n.push(o);else{const n=o.hasOwnProperty("$if"),s=n&&o.$if||!n;if(Array.isArray(i)&&s)o.children||(o.children=[]),e(i,o.children);else if("function"===t&&s){let t=i();if(!t)continue;t=t.reduce(((e,t)=>e.concat(t)),[]),o.children||(o.children=[]),e(t,o.children)}else if("object"===t){const e=i;o.attr={};for(const t in e){const n=e[t];"$"!==t[0]?o.attr[t]=n:o[t]=n}}}}}(this.template(),this.nodes),this.nodes.length&&this.container===i?function e(i,s,c){if(!i.length&&s.length)o(s,!0);else{(null==s?void 0:s.length)>i.length&&o(s.splice(i.length),!0);for(let o=0;o<i.length;o++){const r=i[o],l=s&&s[o],d=!!(null==l?void 0:l.element),a=r.tag===(null==l?void 0:l.tag),f=r.hasOwnProperty("$if"),h=f&&r.$if||!f;if((d&&!h||d&&h&&!a)&&n(l),h)if(d&&a){const t=r.element=null==l?void 0:l.element,n=r.attr,o=null==l?void 0:l.attr;if(n)for(const e in n){const i=n[e];i!==o[e]&&t.attr(e,i)}const i=r.$css,s=null==l?void 0:l.$css;if(i)for(const e in i){const n=i[e];n!==s[e]&&t.css(e,n)}if("$on"in r){if(l.$on)for(const e in l.$on){const n=l.$on[e];t.off(n)}for(const e in r.$on){const n=r.$on[e];t.on(e,n,{passive:!0})}}"$html"in r&&r.$html!==l.$html?(t.innerHTML=r.$html,l&&(l.children=null)):"$text"in r&&r.$text!==l.$text&&(t.textContent=r.$text),r.children&&e(r.children,null==l?void 0:l.children,t);const c=r.$updated;c&&c(t,r)}else{let n;n=r.$namespace?document.createElementNS(r.$namespace,r.tag):"div"===r.tag?t.cloneNode():document.createElement(r.tag),r.element=n,(null==l?void 0:l.children)&&(l.children=[]);const s=r.attr;s&&n.attr(s);const d=r.$css;if(d&&n.css(d),"$on"in r)for(const e in r.$on){const t=r.$on[e];t&&n.on(e,t,{passive:!0})}"$html"in r?n.innerHTML=r.$html:"$text"in r&&(n.textContent=r.$text),r.children&&e(r.children,null==l?void 0:l.children,n);const a=r.$created;a&&a(n,r);const f=r.$updated;if(f&&f(n,r),0===o)c.appendChild(n);else{const e=i.slice(0,o).reverse().find((e=>{const t=e.hasOwnProperty("$if");return(t&&e.$if||!t)&&e.element}));e?e.element.after(n):c.prepend(n)}}}}}(this.nodes,s,i):(this.container=i,function n(o,i){const s=e.cloneNode();o.forEach((e=>{if(e.hasOwnProperty("$if")&&!e.$if)return;let o;o=e.$namespace?document.createElementNS(e.$namespace,e.tag):"div"===e.tag?t.cloneNode():document.createElement(e.tag),e.element=o;const i=e.$created;i&&i(o,e);const c=e.$updated;if(c&&c(o,e),"$on"in e)for(const t in e.$on){const n=e.$on[t];n&&o.on(t,(e=>{n(e,o)}),{passive:!0})}"$html"in e?o.innerHTML=e.$html:"$text"in e&&(o.textContent=e.$text);const r=e.attr;r&&o.attr(r);const l=e.$css;l&&o.css(l),e.children&&n(e.children,o),s.appendChild(o)})),i.appendChild(s)}(this.nodes,i))}remove(){return this.nodes.length&&(this.container=null,o(this.nodes,!0),this.nodes=[]),this}}}},t={},function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(77);var e,t}));