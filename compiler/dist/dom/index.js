!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Master=e():t.Master=e()}(self,(function(){return(()=>{var t={77:()=>{const t=document.createDocumentFragment(),e=document.createElement("div");window.Master=function(e,n,...o){if("function"==typeof e)return new i(e);if(n){const i=document.createElement(e,n&&n.is?{is:n.is}:void 0);if(Object.keys(n).length&&i.attr(n),o.length)if(o.length>1){const e=t.cloneNode();for(const t of o)e.appendChild("string"==typeof t?document.createTextNode(t):t);i.appendChild(e)}else i.appendChild("string"==typeof o[0]?document.createTextNode(o[0]):o[0]);return i}return document.querySelectorAll(e)};const n=t=>{if(!(null==t?void 0:t.element))return;t.element.remove();const e=t.$removed;e&&e(t.element,t)},o=(t,e)=>{t&&t.forEach((t=>{e?n(t):t.children&&o(t.children)}))};class i{constructor(t){this.template=t,this.nodes=[]}render(i){if(!i)return;const r=this.nodes;this.nodes=[],function t(e,n){let o;for(const i of e){const e=typeof i;if("string"===e)o={tag:i,children:null},n.push(o);else{const n=o.hasOwnProperty("$if"),r=n&&o.$if||!n;if(Array.isArray(i)&&r)o.children||(o.children=[]),t(i,o.children);else if("function"===e&&r){let e=i();if(!e)continue;e=e.reduce(((t,e)=>t.concat(e)),[]),o.children||(o.children=[]),t(e,o.children)}else if("object"===e){const t=i;o.attr={};for(const e in t){const n=t[e];"$"!==e[0]?o.attr[e]=n:o[e]=n}}}}}(this.template(),this.nodes),this.nodes.length&&this.container===i?function t(i,r,s){if(!(null==i?void 0:i.length)&&(null==r?void 0:r.length))o(r,!0);else{(null==r?void 0:r.length)>(null==i?void 0:i.length)&&o(r.splice(null==i?void 0:i.length),!0);for(let o=0;o<(null==i?void 0:i.length);o++){const l=i[o],c=r&&r[o],d=!!(null==c?void 0:c.element),f=l.tag===(null==c?void 0:c.tag),a=l.hasOwnProperty("$if"),u=a&&l.$if||!a;if((d&&!u||d&&u&&!f)&&n(c),u)if(d&&f){const e=l.element=null==c?void 0:c.element,n=l.attr,o=null==c?void 0:c.attr;if(n)for(const t in n){const i=n[t];i!==o[t]&&e.attr(t,i)}const i=l.$css,r=null==c?void 0:c.$css;if(i)for(const t in i){const n=i[t];n!==r[t]&&e.css(t,n)}if("$on"in l){if(c.$on)for(const t in c.$on){const n=c.$on[t];e.off(n)}for(const t in l.$on){const n=l.$on[t];e.on(t,n,{passive:!0})}}"$html"in l&&l.$html!==c.$html?(e.innerHTML=l.$html,(null==c?void 0:c.children)&&(c.children=[])):"$text"in l&&l.$text!==c.$text&&(e.textContent=l.$text,(null==c?void 0:c.children)&&(c.children=[])),t(null==l?void 0:l.children,null==c?void 0:c.children,e);const s=l.$updated;s&&s(e,l)}else{let n;n=l.$namespace?document.createElementNS(l.$namespace,l.tag):"div"===l.tag?e.cloneNode():document.createElement(l.tag),l.element=n;const r=l.attr;r&&n.attr(r);const d=l.$css;if(d&&n.css(d),"$on"in l)for(const t in l.$on){const e=l.$on[t];e&&n.on(t,e,{passive:!0})}"$html"in l?n.innerHTML=l.$html:"$text"in l&&(n.textContent=l.$text),(null==c?void 0:c.children)&&(c.children=[]),t(null==l?void 0:l.children,null==c?void 0:c.children,n);const f=l.$created;f&&f(n,l);const a=l.$updated;if(a&&a(n,l),0===o)s.appendChild(n);else{const t=i.slice(0,o).reverse().find((t=>{const e=t.hasOwnProperty("$if");return(e&&t.$if||!e)&&t.element}));t?t.element.after(n):s.prepend(n)}}}}}(this.nodes,r,i):(this.container=i,function n(o,i){const r=t.cloneNode();o.forEach((t=>{if(t.hasOwnProperty("$if")&&!t.$if)return;let o;o=t.$namespace?document.createElementNS(t.$namespace,t.tag):"div"===t.tag?e.cloneNode():document.createElement(t.tag),t.element=o;const i=t.$created;i&&i(o,t);const s=t.$updated;if(s&&s(o,t),"$on"in t)for(const e in t.$on){const n=t.$on[e];n&&o.on(e,(t=>{n(t,o)}),{passive:!0})}"$html"in t?o.innerHTML=t.$html:"$text"in t&&(o.textContent=t.$text);const l=t.attr;l&&o.attr(l);const c=t.$css;c&&o.css(c),t.children&&n(t.children,o),r.appendChild(o)})),i.appendChild(r)}(this.nodes,i))}remove(){return this.nodes.length&&(this.container=null,o(this.nodes,!0),this.nodes=[]),this}}},827:(t,e,n)=>{"use strict";n(334),n(412)},412:()=>{window.off=document.off=Element.prototype.off=function(t,e,n,o){var i,r;const s=this,l=s.listeners;if(!l)return s;if(t)if("string"==typeof t){"function"==typeof e?(o=n,n=e,e=null):e instanceof Object&&(o=e,e=void 0);const r=t.split(" ");for(const t of r){const r=t.split(".");let c,d;"."!==t[0]&&(d=r[0]),c=r.slice(1);for(let t=l.length-1;t>=0;t--){const r=l[t];let f=!1;if(d){if(f=d===r.type,c.length&&(f=f&&r.typeSet.has(c,".")),(null==o?void 0:o.id)&&(null===(i=r.option)||void 0===i?void 0:i.id)){let t=!0;for(let e=0;e<o.id.length;e++)if(o.id[e]!==r.option.id[e]){t=!1;break}f=f&&t}}else{if(!c.length)continue;f=r.typeSet.has(c,".")}n&&(f=f&&n===r.handle),e&&(f=f&&e===r.factorSelector),f&&(s.removeEventListener(r.type,r.listen,r.option||!1),l.splice(t,1))}}}else if("function"==typeof t){n=t;for(let t=l.length-1;t>=0;t--){const e=l[t];e.handle===n&&(s.removeEventListener(e.type,e.listen,e.option||!1),l.splice(t,1))}}else{o=t;for(let t=l.length-1;t>=0;t--){const e=l[t];if((null==o?void 0:o.id)&&(null===(r=e.option)||void 0===r?void 0:r.id)){let n=!0;for(let t=0;t<o.id.length;t++)if(o.id[t]!==e.option.id[t]){n=!1;break}n&&(s.removeEventListener(e.type,e.listen,e.option||!1),l.splice(t,1))}}}else{for(const t of s.listeners)s.removeEventListener(t.type,t.listen,t.option);s.listeners=null}return s}},334:()=>{window.on=document.on=Element.prototype.on=function(t,e,n,o){const i=this;"function"==typeof e&&(o=n,n=e,e=null),i.listeners=i.listeners||[];const r=function(r){let s=i;if(e){let t;if("string"==typeof e?t=r.target.closest(e):r.target===e&&(t=r.target),!t)return;s=t}o&&o.once&&i.off(t,e,n,o);let l=r.detail;l=Array.isArray(l)?l:[l],n&&n.call(s,r,...l)};for(const s of t.split(" ")){const t=s.split(".")[0];i.listeners.push({typeSet:s,type:t,factorSelector:e,handle:n,option:o||!1,listen:r}),i.addEventListener(t,r,o||!1)}return i}},652:(t,e,n)=>{"use strict";n.r(e),n(77),n(827),n(713),n(505),window.$||(window.$=window.Master)},292:(t,e,n)=>{"use strict";var o=n(420);function i(t){return void 0===t||""===t||null===t?t:"boolean"==typeof t?!0===t:isNaN(+t)?t:+t}const r=Element.prototype;r.attr=function(t,e){const n=this;if(void 0!==e){const o=t;return null===e?n.removeAttribute(o):"boolean"==typeof e?n.toggleAttribute(o,!!e):n.setAttribute(o,e),n}if((0,o.Z)(t)){for(const e in t){const o=t[e];void 0!==o&&("boolean"==typeof o?n.toggleAttribute(e,!!o):n.setAttribute(e,o))}return n}if("string"!=typeof t){const t={};for(const e of n.attributes)t[e.name]=i(e.value);return t}n.getAttribute(i(t))},r.toggleAttr=function(t,e){const n=this;if((0,o.Z)(t))for(const e in t)n.toggleAttribute(e,t[e]);else n.toggleAttribute(t,e);return n}},861:()=>{const t=Element.prototype;t.addClass=function(t){return t&&this.classList.add(...t.split(" ")),this},t.rmClass=function(t){return t&&this.classList.remove(...t.split(" ")),this},t.toggleClass=function(t,e){return(e="boolean"==typeof e?e:!this.classList.contains(t))?this.addClass(t):this.rmClass(t)}},213:(t,e,n)=>{"use strict";function o(t){return t.replace(/([A-Z])/g,(t=>"-"+t[0])).toLowerCase()}var i=n(420);function r(t){return"number"==typeof t&&!isNaN(t)}const s=["border-top-width","border-right-width","border-bottom-width","border-left-width","margin","padding","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","min-width","min-height","max-width","max-height","top","bottom","left","right","width","height"];function l(t){return-1!==s.indexOf(t)}Element.prototype.css=function(t,e){const n=this;if(void 0!==e)return"-"===t[0]?(n.style.setProperty(t,e),n):(l(t=o(t))&&r(e)&&(e+="px"),n.style[t]=e,n);if((0,i.Z)(t)){for(const e in t){const i=t[e];"-"===e[0]?n.style.setProperty(e,i):n.style[e]=i+(l(o(e))&&r(i)?"px":"")}return n}return"string"==typeof t?window.getComputedStyle(n).getPropertyValue(t):window.getComputedStyle(n)}},24:()=>{Element.prototype.html=function(t){return this.innerHTML=t,this}},713:(t,e,n)=>{"use strict";n(292),n(861),n(213),n(24)},505:()=>{const t=HTMLCollection.prototype,e=NodeList.prototype;t.filter=e.filter=Array.prototype.filter,t.indexOf=e.indexOf=Array.prototype.indexOf,t.map=e.map=Array.prototype.map,t.forEach=Array.prototype.forEach},420:(t,e,n)=>{"use strict";function o(t){return"object"==typeof t&&null!==t}n.d(e,{Z:()=>o})}},e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(652)})()}));